https://www.jquery123.com/mousedown/
  <CollectionView.EmptyView>
                                <ContentView>
                              
                                    <StackLayout HorizontalOptions="CenterAndExpand"
                             VerticalOptions="CenterAndExpand">
                                        <ActivityIndicator x:Name="Loading" IsRunning="{Binding IsBusy}"
                         HorizontalOptions="Center"
                         VerticalOptions="Center"
                         Color="Black"/>
                                        <Label Text="No results matched your filter."   IsVisible="{Binding IsBusy}"
                           Margin="10,25,10,10"
                           FontAttributes="Bold"
                           FontSize="18"
                           HorizontalOptions="Fill"
                           HorizontalTextAlignment="Center" />
                                    </StackLayout>
                                </ContentView>
                            </CollectionView.EmptyView>

docker-compose --env-file ./prd.env config

docker-compose up --env-file=prd.env


FOR /f "tokens=*" %%i IN ('docker volume -f "dangling=true" -q') DO docker rmi %%i -f

FOR /f "tokens=*" %i IN ('docker volume ls -f "dangling=true" -q')


docker build --no-cache -t webapitest .
docker run --name webapitestqqq -d --rm -p 60000:8080 -p 22:22 -v c:/app:/app/Logs webapitest:latest


docker run --name project2 -d --rm -p 80:80 -v c:/app3:/app/Resources/Images project2:latest

docker events -f "image"="webapitest:latest" 
docker run --name nginx-container --mount type=bind source=/etc/nginx/conf.d/default.conf,target=c:/app3/nginx/conf/nginx.conf -p 7777:8081 -d nginxtest
docker run --name nginx-container -v c:/app3/nginx/conf/nginx.conf:/etc/nginx/conf.d/default.conf -p 7777:8081 -d nginxtest

# docker run --name mynginx2 --mount type=bind source=/var/www,target=/usr/share/nginx/html,readonly --mount type=bind,source=/var/nginx/conf,target=/etc/nginx/conf,readonly -p 80:80 -d nginx

FROM nginx
RUN rm /etc/nginx/nginx.conf /etc/nginx/conf.d/default.conf
COPY content /usr/share/nginx/html
COPY conf /etc/nginx
VOLUME /usr/share/nginx/html
VOLUME /etc/nginx

# docker run -i -t --volumes-from mynginx4 --name mynginx4_files debian /bin/bash
root@b1cbbad63dd1:/#

ironman-vol:/usr/src/app/app

docker context create remote --docker "host=ssh://Honjay@LAPTOP-2EJJOFO8"
docker context ls
切換至 dev 的 context
docker context use dev

# 切回預設
docker context use default
# 指定 dev
docker -c dev ps

C:\Users\Honjay\source\repos\webapitest>docker build -t webapitest .

 
docker build --no-cache -t project2 -f Dockerfile .
docker run --name project2 -d --rm -p 80:80 project2:latest


docker build --no-cache -t nginx -f Dockerfile_1 .
docker run --name my-nginx -d --rm -p 8888:8081 -p 22111:22111 -v c:/app3/nginx/conf/nginx.conf:/etc/nginx/conf.d/default.conf nginxtest:latest

docker run --name nginx -d --rm -p 8888:8081 -p 22111:22111 -v c:/app3/nginx/conf:/etc/nginx/conf.d nginx:latest

docker run --name nginx-container -p 7777:8081 -v index.html:/usr/share/nginx/html:ro -v c:/app3/nginx/conf/nginx.conf:/etc/nginx/conf.d/default.conf -d nginxtest
docker context create remote ‐‐docker "host=ssh://root@192.168.43.166"

docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' f7
docker inspect f7 | findstr '"IPAddress"'   192.168.48.3
docker inspect 01 | findstr '"IPAddress"'   192.168.48.2

ls -al /usr/lib/openssh/sftp-server

RUN apt update \
       && apt install -y --no-install-recommends openssh-server \
       && mkdir -p /run/sshd \
       && echo "root:Docker!" | chpasswd

RUN echo "Port 22" >> /etc/ssh/sshd_config
RUN echo "ListenAddress 0.0.0.0" >> /etc/ssh/sshd_config
RUN echo "LoginGraceTime 180" >> /etc/ssh/sshd_config
RUN echo "X11Forwarding yes" >> /etc/ssh/sshd_config
RUN echo "Ciphers aes128-cbc,3des-cbc,aes256-cbc,aes128-ctr,aes192-ctr,aes256-ctr" >> /etc/ssh/sshd_config


RUN echo "MACs hmac-sha1,hmac-sha1-96" >> /etc/ssh/sshd_config
RUN echo "StrictModes yes" >> /etc/ssh/sshd_config
RUN echo "SyslogFacility DAEMON" >> /etc/ssh/sshd_config
RUN echo "PasswordAuthentication yes" >> /etc/ssh/sshd_config
RUN echo "PermitRootLogin yes" >> /etc/ssh/sshd_config
RUN echo "Subsystem sftp internal-sftp" >> /etc/ssh/sshd_config

 Port                            2222
 ListenAddress                   0.0.0.0
 LoginGraceTime                  180
 X11Forwarding                   yes
 Ciphers aes128-cbc,3des-cbc,aes256-cbc,aes128-ctr,aes192-ctr,aes256-ctr
 MACs hmac-sha1,hmac-sha1-96
 StrictModes                     yes
 SyslogFacility                  DAEMON
 PasswordAuthentication          yes
 PermitEmptyPasswords            no
 PermitRootLogin                 yes
 Subsystem sftp internal-sftp


docker-compose --env-file ./%target% config

version: '3.4'

services:
  webapitest1:
    container_name: webapitest-1
    image: ${DOCKER_REGISTRY-}webapitest1:latest
    build:
      context: .
      dockerfile: webapitest/Dockerfile
    restart: always
    ports:
      - "5001:80"
    volumes:
      - ./appsettings.json:/app/appsettings.json
  #myproject-nginx:
  #  container_name: my-nginx
  #  image: nginx
  #  restart: always
  #  ports:
  #    - "80:80"
  #  volumes:
  #    - ./conf/nginx.conf:/etc/nginx/conf.d/default.conf

  myproject-redis:
    container_name: my-redis
    image: redis
    restart: always
    ports:
      - "6379:80"
    volumes:
      - ./conf/redis.conf:/etc/redis/redis.conf

 -v portainer_data:/data 
docker volume create portainer_data
docker run -d -p 19000:9000 --name portainer --net=webapitest_backend -v "/var/run/docker.sock:/var/run/docker.sock" -v c:/app3/portainer-ce/data:/data --restart=always portainer/portainer-ce


$ docker run -d -p 9000:9000 -p 8000:8000 --name portainer --restart always -v /var/run/docker.sock:/var/run/docker.sock -v /path/on/host/data:/data portainer/portainer



docker run -d -p 19000:9000 -p 18000:8000 --restart always -v c:/app3/run:/var/run -v c:/app3/portainer-ce/data:/data --name portainer-ce portainer/portainer-ce

docker run -d -p 19000:9000 -p 18000:8000 --restart always -v \\.\pipe\docker_engine:\\.\pipe\docker_engin -v c:/app3/opt/docker/portainer-ce/data:/data --name portainer-ce portainer/portainer-ce



docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce

已有，開發需要時要有權限下載套件
前端
netsh interface portproxy delete v4tov4 listenaddress=10.0.75.1 listenport=2375

# Use the Nginx image
FROM nginx  
# Remove the default nginx.conf
RUN rm /etc/nginx/conf.d/default.conf

# Replace with our own nginx.conf
COPY nginx/nginx.conf /etc/nginx/conf.d/

#Set time zone
ENV TZ=Asia/Taipei
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone
EXPOSE 8081 22
RUN apt-get update && apt-get install -y iputils-ping
RUN apt-get update && apt-get install net-tools    
     
RUN apt update \
       && apt install -y --no-install-recommends openssh-server \
       && mkdir -p /run/sshd \
       && echo "root:Docker!" | chpasswd 
 
apt-get install curl -y

安裝檔案
docker desktop
nodejs
nuget

vistal studio installer
-node.js development
-net core cross-platform development







docker swarm init


docker service create --name webapitestservice --publish 5000:8080 webapitest 

docker service scale webapitestservice=3


docker service ls


docker service scale webapitestservice=1


docker service webapitestservice


docker network create agent_network -d overlay
docker stack deploy --compose-file docker-portainer.yml portainer
docker stack rm webapitest

docker-compose -f ./docker-compose.yml build --no-cache
docker stack deploy --compose-file=docker-compose.yml webapitest --resolve-image never


docker container ls

docker network connect portainer_agent-network 813e0cfb1f19

curl http://webapi:8080/WeatherForecast




#See https://aka.ms/containerfastmode to understand how Visual Studio uses this Dockerfile to build your images for faster debugging.

FROM mcr.microsoft.com/dotnet/aspnet:5.0 AS base
WORKDIR /app
EXPOSE 80 443
ENV LANG C.UTF-8
ENV LC_ALL C.UTF-8
RUN mkdir -p /app/Resources/Images
FROM mcr.microsoft.com/dotnet/sdk:5.0 AS build
#Installing nodejs
#RUN apt-get update -yq \
    #&& apt-get install curl gnupg -yq \
    #&& curl -sL https://deb.nodesource.com/setup_16.x | bash \
    #&& apt-get install nodejs -yq


WORKDIR /src
COPY ["Project2.csproj", "."]
RUN dotnet restore "./Project2.csproj"
COPY . .
WORKDIR "/src/."

RUN dotnet build "Project2.csproj" -c Release -o /app/build

FROM build AS publish
RUN dotnet publish "Project2.csproj" -c Release -o /app/publish

FROM base AS final
WORKDIR /app
COPY --from=publish /app/publish .
ENTRYPOINT ["dotnet", "Project2.dll"]


docker builder prune -af
